import random
import logging
from datetime import datetime
from apscheduler.triggers.cron import CronTrigger
import pytz
import asyncio

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger = logging.getLogger(__name__)

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
helsinki_tz = pytz.timezone('Europe/Helsinki')


def get_medicine_reminder():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""
    medicine_reminders = [
        "üíä –ú–∞–º–æ—á–∫–∞, –≤—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç—å –ª–µ–∫–∞—Ä—Å—Ç–≤–∞! –ù–µ –∑–∞–±—ã–≤–∞–π –æ —Å–≤–æ–µ–º –∑–¥–æ—Ä–æ–≤—å–µ ‚ù§Ô∏è",
        "ü©∫ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –ø–æ—Ä–∞ –ø—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã! –¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –≤–∞–∂–Ω–æ üíï",
        "üíä –í—Ä–µ–º—è –ª–µ–∫–∞—Ä—Å—Ç–≤! –ë–µ—Ä–µ–≥–∏ —Å–µ–±—è, –¥–æ—Ä–æ–≥–∞—è –º–∞–º–∞ üå∏",
        "ü©∫ –ù–µ –∑–∞–±—É–¥—å –ø—Ä–æ —Ç–∞–±–ª–µ—Ç–∫–∏! –ó–¥–æ—Ä–æ–≤—å–µ - —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ üíñ",
        "üíä –ú–∞–º–∞, –ø–æ—Ä–∞ –ø—Ä–∏–Ω—è—Ç—å –ª–µ–∫–∞—Ä—Å—Ç–≤–∞! –ó–∞–±–æ—Ç—å—Å—è –æ —Å–µ–±–µ ü§ó",
        "ü©∫ –í—Ä–µ–º—è –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤! –¢–≤–æ–µ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ ‚ù§Ô∏è",
        "üíä –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö! –ë—É–¥—å –∑–¥–æ—Ä–æ–≤–∞, –º–∞–º—É–ª—è üíê",
        "ü©∫ –ü–æ—Ä–∞ –ø—Ä–∏–Ω—è—Ç—å —Ç–∞–±–ª–µ—Ç–∫–∏! –ë–µ—Ä–µ–≥–∏ —Å–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ üå∫",
        "üíä –í—Ä–µ–º—è –ª–µ—á–µ–Ω–∏—è! –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –ø—Ä–∏–µ–º –ª–µ–∫–∞—Ä—Å—Ç–≤ üíù",
        "ü©∫ –ú–∞–º–æ—á–∫–∞, —Ç–≤–æ–∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –∂–¥—É—Ç! –ó–∞–±–æ—Ç—å—Å—è –æ —Å–µ–±–µ üåπ"
    ]
    return random.choice(medicine_reminders)


def get_motivational_medicine_message():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –ª–µ–∫–∞—Ä—Å—Ç–≤"""
    motivational_messages = [
        "üíä –†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø—Ä–∏–µ–º –ª–µ–∫–∞—Ä—Å—Ç–≤ - –∑–∞–ª–æ–≥ —Ö–æ—Ä–æ—à–µ–≥–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è! üåü\n–¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –±–µ—Å—Ü–µ–Ω–Ω–æ ‚ù§Ô∏è",
        "ü©∫ –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–µ—Ç–∫–∞ - —ç—Ç–æ –∑–∞–±–æ—Ç–∞ –æ —Ç–≤–æ–µ–º –±—É–¥—É—â–µ–º! üíñ\n–ü—Ä–æ–¥–æ–ª–∂–∞–π –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ üå∏",
        "üíä –ü–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –≤ –ª–µ—á–µ–Ω–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–ª–∏—á–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º! üéØ\n–¢—ã –º–æ–ª–æ–¥–µ—Ü, —á—Ç–æ —Å–ª–µ–¥–∏—à—å –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ–º! üíï",
        "ü©∫ –¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ –≤—Å–µ–π —Å–µ–º—å–µ! üéÅ\n–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ —Å–µ–±–µ ‚ù§Ô∏è",
        "üíä –†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å - –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–º—É –ª–µ—á–µ–Ω–∏—é! üóùÔ∏è\n–ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üå∫",
    ]
    return random.choice(motivational_messages)


def get_health_tips():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ –æ –∑–¥–æ—Ä–æ–≤—å–µ"""
    health_tips = [
        "üí° –°–æ–≤–µ—Ç: –ø—Ä–∏–Ω–∏–º–∞–π –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è –¥–ª—è –ª—É—á—à–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞!",
        "üí° –ü–æ–º–Ω–∏: –∑–∞–ø–∏–≤–∞–π —Ç–∞–±–ª–µ—Ç–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–æ–¥—ã!",
        "üí° –°–æ–≤–µ—Ç: –≤–µ–¥–∏ –¥–Ω–µ–≤–Ω–∏–∫ –ø—Ä–∏–µ–º–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤ - —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤—Ä–∞—á—É!",
        "üí° –í–∞–∂–Ω–æ: –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –ø—Ä–∏–µ–º, –¥–∞–∂–µ –µ—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è —Ö–æ—Ä–æ—à–æ!",
        "üí° –ü–æ–º–Ω–∏: –µ—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö - –æ–±—Ä–∞—â–∞–π—Å—è –∫ –≤—Ä–∞—á—É!",
        "üí° –°–æ–≤–µ—Ç: —Ö—Ä–∞–Ω–∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –≤ –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º —Å—É—Ö–æ–º –º–µ—Å—Ç–µ!",
        "üí° –í–∞–∂–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è–π —Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ –ª–µ–∫–∞—Ä—Å—Ç–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ!"
    ]
    return random.choice(health_tips)


async def send_medicine_reminder(bot, user_id):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—ã—á–Ω–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""
    try:
        # 70% –æ–±—ã—á–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ, 30% —Å –º–æ—Ç–∏–≤–∞—Ü–∏–µ–π –∏–ª–∏ —Å–æ–≤–µ—Ç–æ–º
        if random.random() < 0.7:
            message = get_medicine_reminder()
        else:
            if random.random() < 0.5:
                message = get_motivational_medicine_message()
            else:
                base_reminder = get_medicine_reminder()
                tip = get_health_tips()
                message = f"{base_reminder}\n\n{tip}"

        await bot.send_message(chat_id=user_id, text=message)
        current_time = datetime.now(helsinki_tz)
        logger.info(f"–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ {current_time}")

    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö: {e}")


async def send_morning_medicine_reminder(bot, user_id):
    """–£—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""
    morning_messages = [
        "üåÖ –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –º–∞–º–æ—á–∫–∞! –ù–∞—á–Ω–∏ –¥–µ–Ω—å —Å –∑–∞–±–æ—Ç—ã –æ –∑–¥–æ—Ä–æ–≤—å–µ - –ø—Ä–∏–º–∏ —É—Ç—Ä–µ–Ω–Ω–∏–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞! ‚òÄÔ∏èüíä",
        "üåÑ –£—Ç—Ä–æ - –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–±–æ—Ç—ã –æ —Å–µ–±–µ! –ù–µ –∑–∞–±—É–¥—å –ø—Ä–æ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã! üíï",
        "‚òÄÔ∏è –ù–æ–≤—ã–π –¥–µ–Ω—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–±–æ—Ç—ã –æ –∑–¥–æ—Ä–æ–≤—å–µ! –í—Ä–µ–º—è —É—Ç—Ä–µ–Ω–Ω–∏—Ö –ª–µ–∫–∞—Ä—Å—Ç–≤! üå∏",
        "üåÖ –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ü—É—Å—Ç—å –¥–µ–Ω—å –Ω–∞—á–Ω–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∑–∞–±–æ—Ç—ã –æ —Å–µ–±–µ! üíä‚ù§Ô∏è"
    ]

    try:
        message = random.choice(morning_messages)
        await bot.send_message(chat_id=user_id, text=message)
        logger.info("–£—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: {e}")


async def send_evening_medicine_reminder(bot, user_id):
    """–í–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""
    evening_messages = [
        "üåÜ –í–µ—á–µ—Ä - –≤—Ä–µ–º—è –ø–æ–∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –∑–¥–æ—Ä–æ–≤—å–µ! –ü—Ä–∏–º–∏ –≤–µ—á–µ—Ä–Ω–∏–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞! üíä‚ú®",
        "üåô –ó–∞–≤–µ—Ä—à–∏ –¥–µ–Ω—å –∑–∞–±–æ—Ç–æ–π –æ —Å–µ–±–µ - –≤—Ä–µ–º—è –≤–µ—á–µ—Ä–Ω–∏—Ö –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤! üíï",
        "üåá –í–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: —Ç–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö! üíäüåü",
        "üåÜ –ü—É—Å—Ç—å –≤–µ—á–µ—Ä –ø—Ä–æ–π–¥–µ—Ç —Å –ø–æ–ª—å–∑–æ–π –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è! –í—Ä–µ–º—è –ª–µ–∫–∞—Ä—Å—Ç–≤! ‚ù§Ô∏è"
    ]

    try:
        message = random.choice(evening_messages)
        await bot.send_message(chat_id=user_id, text=message)
        logger.info("–í–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤–µ—á–µ—Ä–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: {e}")


# –û–±—ë—Ä—Ç–∫–∏ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
def medicine_reminder_wrapper(bot, user_id):
    """–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"""
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    try:
        loop.run_until_complete(send_medicine_reminder(bot, user_id))
    finally:
        loop.close()


def morning_medicine_wrapper(bot, user_id):
    """–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"""
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    try:
        loop.run_until_complete(send_morning_medicine_reminder(bot, user_id))
    finally:
        loop.close()


def evening_medicine_wrapper(bot, user_id):
    """–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"""
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    try:
        loop.run_until_complete(send_evening_medicine_reminder(bot, user_id))
    finally:
        loop.close()


def setup_medicine_scheduler(scheduler, bot, user_id):
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""

    # –£—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    # 8:00 - –æ—Å–Ω–æ–≤–Ω–æ–µ —É—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    scheduler.add_job(
        morning_medicine_wrapper,
        CronTrigger(hour=8, minute=0, timezone=helsinki_tz),
        args=[bot, user_id],
        id='morning_medicine_reminder',
        name='–£—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö'
    )

    # 8:30 - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    scheduler.add_job(
        medicine_reminder_wrapper,
        CronTrigger(hour=8, minute=30, timezone=helsinki_tz),
        args=[bot, user_id],
        id='morning_medicine_reminder_2',
        name='–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ'
    )

    # –î–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    # 14:00 - –¥–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    scheduler.add_job(
        medicine_reminder_wrapper,
        CronTrigger(hour=14, minute=0, timezone=helsinki_tz),
        args=[bot, user_id],
        id='afternoon_medicine_reminder',
        name='–î–Ω–µ–≤–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö'
    )

    # –í–µ—á–µ—Ä–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
    # 20:00 - –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    scheduler.add_job(
        evening_medicine_wrapper,
        CronTrigger(hour=20, minute=0, timezone=helsinki_tz),
        args=[bot, user_id],
        id='evening_medicine_reminder',
        name='–í–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö'
    )

    # 20:30 - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    scheduler.add_job(
        medicine_reminder_wrapper,
        CronTrigger(hour=20, minute=30, timezone=helsinki_tz),
        args=[bot, user_id],
        id='evening_medicine_reminder_2',
        name='–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤–µ—á–µ—Ä–Ω–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ'
    )

    logger.info("–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω:")
    logger.info("- –£—Ç—Ä–æ–º: 8:00, 8:30")
    logger.info("- –î–Ω–µ–º: 14:00")
    logger.info("- –í–µ—á–µ—Ä–æ–º: 20:00, 20:30")


# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
async def test_medicine_reminder(bot, user_id):
    """–¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö"""
    await send_medicine_reminder(bot, user_id)
    logger.info("–¢–µ—Å—Ç–æ–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")